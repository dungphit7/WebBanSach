@model Webbansach.Models.DonHang

@{
    ViewBag.Title = "Cập nhật đơn hàng";
    Layout = "~/Views/Shared/_AdminLayout.cshtml"; // Nếu dành cho admin quản lý
}

<div class="container mt-5" style="max-width: 500px;">
    <div class="card shadow">
        <div class="card-header bg-warning">
            <h4>Cập nhật trạng thái Đơn #@Model.MaDonHang</h4>
        </div>
        <div class="card-body">
            <form action="@Url.Action("Edit", "DonHangs", new { id = Model.MaDonHang })" method="post">
                @Html.AntiForgeryToken()
                @Html.HiddenFor(model => model.MaDonHang)


                <div class="mb-3">
                    <label class="fw-bold">Khách hàng:</label>
                    <input type="text" class="form-control"
                           value="@(Model.ApplicationUser != null ? Model.ApplicationUser.HoTen : "")" disabled />
                </div>

                <div class="mb-3">
                    <label class="fw-bold">Ngày đặt:</label>
                    <input type="text" class="form-control"
                           value="@(Model.NgayDat != null ? Model.NgayDat.Value.ToString("dd/MM/yyyy HH:mm") : "")" disabled />
                </div>

                <div class="mb-3">
                    <label class="fw-bold text-danger">Trạng thái đơn hàng:</label>
                    <select name="status" class="form-control">
                        <option value="Mới đặt" @(Model.TrangThai == "Mới đặt" ? "selected" : "")>Mới đặt</option>
                        <option value="Đang giao" @(Model.TrangThai == "Đang giao" ? "selected" : "")>Đang giao</option>
                        <option value="Đã giao" @(Model.TrangThai == "Đã giao" ? "selected" : "")>Đã giao</option>
                        <option value="Đã hủy" @(Model.TrangThai == "Đã hủy" ? "selected" : "")>Đã hủy</option>
                    </select>
                </div>

                <button type="submit" class="btn btn-primary w-100">Cập nhật</button>
                <a href="@Url.Action("Index", "DonHangs")" class="btn btn-secondary w-100 mt-2">Quay lại</a>
            </form>
        </div>
    </div>
</div>
